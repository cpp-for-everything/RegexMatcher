cmake_minimum_required(VERSION 3.16.3)

project(RegexMatcher)

if(WIN32)
    add_compile_options(/Za)
endif()

message(STATUS "CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT: ${CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT}")
if(NOT DEFINED CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT OR CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
  set(CMAKE_INSTALL_PREFIX "${CMAKE_CURRENT_BINARY_DIR}/install" CACHE PATH "" FORCE)
  message(STATUS ${CMAKE_INSTALL_PREFIX})
endif()

message(STATUS ${CMAKE_INSTALL_PREFIX})

add_subdirectory(core)
add_subdirectory(tests)